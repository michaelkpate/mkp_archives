# Name: mkp_url_parameters v1.2 
# Type: Public plugin
# A Textpattern Plugin for creating Date-Based Archives
# Author: Michael K Pate
# URL: https://github.com/michaelkpate/mkp_url_parameters/
# Recommended load order: 5

# .....................................................................
# This is a plugin for Textpattern CMS - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# .....................................................................

YToxMTp7czo0OiJuYW1lIjtzOjE4OiJta3BfdXJsX3BhcmFtZXRlcnMiO3M6NjoiYXV0aG9y
IjtzOjE0OiJNaWNoYWVsIEsgUGF0ZSI7czoxMDoiYXV0aG9yX3VyaSI7czo1MToiaHR0cHM6
Ly9naXRodWIuY29tL21pY2hhZWxrcGF0ZS9ta3BfdXJsX3BhcmFtZXRlcnMvIjtzOjc6InZl
cnNpb24iO3M6MzoiMS4yIjtzOjExOiJkZXNjcmlwdGlvbiI7czo1MzoiQSBUZXh0cGF0dGVy
biBQbHVnaW4gZm9yIGNyZWF0aW5nIERhdGUtQmFzZWQgQXJjaGl2ZXMiO3M6NDoiY29kZSI7
czoxNTM2OiIvLyBUWFAgNC42IHRhZyByZWdpc3RyYXRpb24NCmlmIChjbGFzc19leGlzdHMo
J1xUZXh0cGF0dGVyblxUYWdcUmVnaXN0cnknKSkgew0KVHhwOjpnZXQoJ1xUZXh0cGF0dGVy
blxUYWdcUmVnaXN0cnknKQ0KLT5yZWdpc3RlcignbWtwX3VybF9wYXJhbWV0ZXJzJykNCjsN
Cn0NCg0KZnVuY3Rpb24gbWtwX3VybF9wYXJhbWV0ZXJzKCkNCnsNCg0KCWdsb2JhbCAkdmFy
aWFibGU7DQoNCgkvLyBwcmVnX3JlcGxhY2UoInxeaHR0cHM/Oi8vW14vXSt8aSIsICIiLCBz
ZXJ2ZXJTZXQoJ1JFUVVFU1RfVVJJJykpIHdhcyBjb3BpZWQgZnJvbSB0aGUgZnVuY3Rpb24g
cHJlVGV4dCBpbiBwdWJsaXNoLnBocA0KDQoJJHBhcnRzID0gZXhwbG9kZSgnLycsIHByZWdf
cmVwbGFjZSgifF5odHRwcz86Ly9bXi9dK3xpIiwgIiIsIHNlcnZlclNldCgnUkVRVUVTVF9V
UkknKSksIDUpOw0KDQoJaWYgKGlzX251bWVyaWMoJHBhcnRzWzFdKSkgew0KDQoJLy8geSBp
cyBudW1lcmljIHllYXIsIG0gaXMgbnVtZXJpYyBtb250aCwgbW9udGh0aXRsZSBpcyBuYW1l
IG9mIG1vbnRoLCBkIGlzIG51bWVyaWMgZGF5IA0KDQoJCWlmIChpc3NldCgkcGFydHNbMV0p
KSB7ICR2YXJpYWJsZVsneSddID0gKGlzX251bWVyaWMoJHBhcnRzWzFdKSkgPyAkcGFydHNb
MV0gOiBudWxsOyB9DQoNCgkJaWYgKGlzc2V0KCRwYXJ0c1syXSkpIHsgJHZhcmlhYmxlWydt
J10gPSAoaXNfbnVtZXJpYygkcGFydHNbMl0pKT8gJHBhcnRzWzJdIDogbnVsbDsgfQ0KDQoJ
CWlmIChpc3NldCgkcGFydHNbMl0pKSB7ICR2YXJpYWJsZVsnbW9udGh0aXRsZSddID0gKGlz
X251bWVyaWMoJHBhcnRzWzJdKSkgPyBkYXRlKCdGJywgbWt0aW1lKDAsIDAsIDAsICRwYXJ0
c1syXSkpIDogbnVsbDsgfQ0KDQoJCWlmIChpc3NldCgkcGFydHNbM10pKSB7ICR2YXJpYWJs
ZVsnZCddID0gKGlzX251bWVyaWMoJHBhcnRzWzNdKSk/ICRwYXJ0c1szXSA6IG51bGw7IH0N
Cg0KCX0gZWxzZSB7DQoNCgkvLyBhdCB0aGlzIHBvaW50IHdlIGFyZSBnb2luZyB0byBhc3N1
bWUgdGhhdCBUZXh0cGF0dGVybiBpcyBydW5uaW5nIGluIGEgc3ViZGlyZWN0b3J5IGFuZCBz
aGlmdCB0byB0aGUgcmlnaHQgaW4gb3VyIGFycmF5DQoNCgkJaWYgKGlzc2V0KCRwYXJ0c1sy
XSkpIHsgJHZhcmlhYmxlWyd5J10gPSAoaXNfbnVtZXJpYygkcGFydHNbMl0pKSA/ICRwYXJ0
c1syXSA6IG51bGw7IH0NCg0KCQlpZiAoaXNzZXQoJHBhcnRzWzNdKSkgeyAkdmFyaWFibGVb
J20nXSA9IChpc19udW1lcmljKCRwYXJ0c1szXSkpPyAkcGFydHNbM10gOiBudWxsOyB9DQoN
CgkJaWYgKGlzc2V0KCRwYXJ0c1szXSkpIHsgJHZhcmlhYmxlWydtb250aHRpdGxlJ10gPSAo
aXNfbnVtZXJpYygkcGFydHNbM10pKSA/IGRhdGUoJ0YnLCBta3RpbWUoMCwgMCwgMCwgJHBh
cnRzWzNdKSkgOiBudWxsOyB9DQoNCgkJaWYgKGlzc2V0KCRwYXJ0c1s0XSkpIHsgJHZhcmlh
YmxlWydkJ10gPSAoaXNfbnVtZXJpYygkcGFydHNbNF0pKT8gJHBhcnRzWzRdIDogbnVsbDsg
fQ0KDQoJfSANCgkgDQoJcmV0dXJuIG51bGw7DQp9DQoiO3M6NDoidHlwZSI7czoxOiIwIjtz
OjU6Im9yZGVyIjtzOjE6IjUiO3M6NToiZmxhZ3MiO3M6MToiMCI7czo0OiJoZWxwIjtzOjE3
ODk6IjxoMT5ta3BfdXJsX3BhcmFtZXRlcnM8L2gxPgoKPHA+VGhpcyB0YWcgZXhhbWluZXMg
dGhlIHVybCBvZiB0aGUgY3VycmVudCBwYWdlIGFuZCBwb3B1bGF0ZWQgZm91ciB2YXJpYWJs
ZXM6IHkgZm9yIHllYXIsIGQgZm9yIGRheSwgbSBmb3IgbW9udGgsIGFuZCBtb250aHRpdGxl
ICh0aGUgbmFtZSBvZiB0aGUgbW9udGggcmVmZXJlbmNlZCBpbiBtKS4gV2l0aCBhY2Nlc3Mg
dG8gdGhvc2UgYml0cyBvZiBpbmZvcm1hdGlvbiwgeW91ciBUZXh0cGF0dGVybiBpbnN0YWxs
IGNhbiBiZSBjdXN0b21pemVkIHRvIGRvIFllYXJseSwgTW9udGhseSBhbmQgRGFpbHkgQXJj
aGl2ZXMgaW4gYSBtYW5uZXIgc2ltaWxhciB0byB3aGF0IHlvdSBtYXkgaGF2ZSBzZWVuIGZy
b20gc29tZSBvdGhlciA8c3BhbiBjbGFzcz0iY2FwcyI+Q01TPC9zcGFuPi48L3A+Cgo8aDI+
QWNrbm93bGVkZ2VtZW50czwvaDI+Cgo8cD5UaGVyZSB3YXMgYW4gZWFybGllciB2ZXJzaW9u
IG9mIHRoaXMgcGx1Z2luIGNhbGxlZCBta3BfYXJjaGl2ZXMgdGhhdCBJIGxvc3Qgd2hlbiB0
aGUgVGV4dGRyaXZlIGhvc3Rpbmcgc2VydmljZSB3ZW50IGRvd24uIEJ1dCBJIHRoaW5rIHRo
aXMgb25lIGlzIGFjdHVhbGx5IGFuIGltcHJvdmVtZW50IGFueXdheS4gQWxzbyB0aGFua3Mg
dG8gPGEgaHJlZj0iaHR0cDovL3d3dy5ncmVhdG9jZWFubWVkaWEuY29tLmF1L3R4cC8/cGx1
Z2luPWFkaV9ncHMiPmFkaV9ncHM8L2E+IGFuZCA8YSBocmVmPSJodHRwOi8vc3RlZmRhd3Nv
bi5jb20vc3cvcGx1Z2lucy9zbWRfaWYiPnNtZF9pZjwvYT4gZm9yIHNvbWUgZGVmaW5pdGUg
aW5zcGlyYXRpb24uPC9wPgoKPGgyPkxpbmtzPC9oMj4KCjx1bD4KCTxsaT48YSBocmVmPSJo
dHRwczovL2dpdGh1Yi5jb20vbWljaGFlbGtwYXRlL21rcF91cmxfcGFyYW1ldGVycyI+R2l0
aHViIENvZGUgUmVwb3NpdG9yeTwvYT48L2xpPgoJPGxpPjxhIGhyZWY9Imh0dHBzOi8vcmF3
LmdpdGh1YnVzZXJjb250ZW50LmNvbS9taWNoYWVsa3BhdGUvbWtwX2FyY2hpdmVzL21hc3Rl
ci9ta3BfdXJsX3BhcmFtZXRlcnMudHh0Ij5Eb3dubG9hZDwvYT48L2xpPgoJPGxpPjxhIGhy
ZWY9Imh0dHA6Ly9kYXRlYmFzZWRhcmNoaXZlcy5jbXNzdHlsZXMuY29tLyI+RGVtbyBTaXRl
PC9hPjwvbGk+CjwvdWw+Cgo8aDI+bWtwX3VybF9wYXJhbWV0ZXJzPC9oMj4KCjxwPkp1c3Qg
dXNlICZsdDt0eHA6bWtwX3VybF9wYXJhbWV0ZXJzIC8mZ3Q7IGF0IHRoZSB0b3Agb2YgYSBw
YWdlIG9yIGZvcm0gd2hlcmUgeW91IG5lZWQgdG8gY2FwdHVyZSA8c3BhbiBjbGFzcz0iY2Fw
cyI+VVJMPC9zcGFuPiBpbmZvcm1hdGlvbi4gRm9yIGEgYmV0dGVyIGV4cGxhbmF0aW9uLCB5
b3Ugd2lsbCB3YW50IHRvIHZpc2l0IHRoZSBEZW1vIFNpdGUuPC9wPgoKPGgzPkF0dHJpYnV0
ZXM8L2gzPgoKPGg0Pk5vbmU8L2g0PgoKPGgzPkV4YW1wbGVzPC9oMz4KCjxwcmU+PGNvZGU+
Jmx0O3R4cDpta3BfdXJsX3BhcmFtZXRlcnMgLyZndDs8L2NvZGU+PC9wcmU+Cgo8aDM+UmVs
ZWFzZSBIaXN0b3J5PC9oMz4KCjxwPlZlcnNpb24gMS4wOiBPY3RvYmVyIDIybmQsIDIwMTQ8
YnIgLz4KVmVyc2lvbiAxLjE6IE9jdG9iZXIgMjl0aCwgMjAxNCAoYWRkZWQgU3ViZGlyZWN0
b3J5IENoZWNrKTxiciAvPgpWZXJzaW9uIDEuMjogSnVuZSAzcmQsIDIwMTYgKGFkZGVkIFRl
eHRwYXR0ZXJuIDQuNiBUYWcgUmVnaXN0cmF0aW9uIGFuZCB1c2VzIGlzc2V0IHRvIHByZXZl
bnQgPHNwYW4gY2xhc3M9ImNhcHMiPlBIUDwvc3Bhbj4gZXJyb3JzIGZyb20gYmVpbmcgZ2Vu
ZXJhdGVkKTwvcD4iO3M6MzoibWQ1IjtzOjMyOiI5NzBiNjJhM2EzNzZhMjI1NTFkZDFkMzQx
ODFkYWQxMSI7fQ==
